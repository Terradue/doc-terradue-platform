<div class="settings-profile container col-md-9">
	<div class='settings settings-title'>Public profile</div>
	<div class='settings settings-description'>
		Some basic information about you.<br/>
	</div>
	<div class='settings settings-container'>

	{{#if user}}		
		{{#if profileNotComplete}}
			{{#if nameMissing}}
				<div class="alert alert-warning">
					<i class="fa fa-warning"></i>&nbsp;Your profile is not yet complete! <br/><b>First name</b> and <b>Last name</b> are mandatory to create your <b>Cloud username</b>.
				</div>
				<br/>
			{{else}}
				<div class="alert alert-warning">
					<i class="fa fa-warning"></i>&nbsp;Your profile is not yet complete, please fill it up.
				</div>
				<br/>
			{{/if}}
		{{/if}}
		<form role="form" class="profileForm">
			
			<div class="form-group">
				<label>First name</label>
				<input type="text" class="form-control" placeholder="" name="FirstName" value="{{ user.FirstName }}">
			</div>
			
			<div class="form-group">
				<label>Last name</label>
				<input type="text" class="form-control" placeholder="" name="LastName" value="{{ user.LastName }}">
			</div>
			
			<div class="form-group">
				<label>Cloud Username</label>
				<div class="alert alert-warning posixUsernameWarning" role="alert">
					<i class="fa fa-warning"></i> <b>Important!</b>
					The Cloud Username will be used on the Terradue Cloud Platform to login on your VMs. Once set, it cannot be changed. Please choose it wisely!
				</div>
				{{#if user.PosixUsername}}
	 				<input type="text" class="form-control" placeholder="" disabled="disabled" value="{{ user.PosixUsername }}">
				{{else}}
					<span class="posixLoader{{#unless posixUsernameLoader}} hidden{{/unless}}"><i class="fa fa-spin fa-spinner"></i> Checking username availability...</span>
					<input type="text" class="form-control" placeholder="" name="PosixUsername">
				{{/if}}
			</div>
			
			<div class="form-group">
				<label>Affiliation</label>
				<input type="text" class="form-control" placeholder="" name="Affiliation" value="{{ user.Affiliation }}">
			</div>
			
			<div class="form-group">
				<label>Country</label>
				<input type="text" class="form-control" placeholder="" name="Country" value="{{ user.Country }}">
			</div>

	 		<br/>
			{{#if saveSuccess}}
				<div class="alert alert-success"><i class="fa fa-warning"></i><strong> Updated!</strong> Your profile info are successful updated.</div>
			{{/if}}
			{{#if saveFail}}
				<div class="alert alert-danger"><i class="fa fa-warning"></i><strong> Oops! </strong>{{ saveFailMessage }}</div>
			{{/if}}
			<button type="submit" class="btn btn-warning submit">Submit</button>
		</form>
	{{/if}}
	</div>
</div>
